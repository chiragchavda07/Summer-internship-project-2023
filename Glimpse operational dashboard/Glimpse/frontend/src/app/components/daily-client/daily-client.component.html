<style>
  .nd{
      display: flex;
      align-items: center;
      justify-content: center;
      height: 30vh;
      color: black;
   }
</style>
<div class="table-container-new">
  <h5 >Daily client file</h5>         
    <div *ngIf="!this.dash.dailyclientAvailable || this.dash.dailyGrid.length==0"> <h3 class="nd">No data to show</h3> </div>
    <div *ngIf="this.dash.dailyclientAvailable && this.dash.dailyGrid.length" class="tbl">
        
        <table id="customers" class="table table-hover">
        <thead>
            <tr>
                <th style="width: 40px;">Sr. no.</th>
                <th>Client name</th>
                <th>Process start time</th>
                <th>Process end time</th>
                <th>File status</th>
                <th>Total records</th>
                <th>Valid records</th>
                <th>Invalid Records</th>
                <th>Saved Records</th>
                <th>Failed to save records</th>
                <th>Error</th>
                <th>File name</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let i of this.dash.dailyGrid; let count = index">
                <td style="width: 40px;">{{count+1}}</td>
                <td>{{i.user_name}}</td>
                <td style="white-space: nowrap;">{{jsonify(i.status_details).startTime}}</td>
                <td style="white-space: nowrap;">{{jsonify(i.status_details).endTime}}</td> 
                <td style="white-space: nowrap;">{{jsonify(i.status_details).status}}</td>
                <td>{{jsonify(i.status_details).totalRecords}}</td>
                <td>{{jsonify(i.status_details).validCount}}</td>
                <td>{{jsonify(i.status_details).invalidCount}}</td>
                <td>{{jsonify(i.status_details).successCount}}</td> 
                <td>{{jsonify(i.status_details).failedCount}}</td> 
                <td style="white-space: nowrap;" [style.color]="jsonify(i.status_details).error.length ? 'white' : 'black'" [style.background-color]="jsonify(i.status_details).error.length ? 'red' : 'lightgreen'">{{jsonify(i.status_details).error.length? "YES" : "NO" }}
                  <button style="color: white;padding:0;margin-bottom: 5px;" class="btn btn-link" *ngIf="jsonify(i.status_details).error.length" data-bs-toggle="offcanvas" data-bs-target="#demo" (click)="passIndex(count,i)">show</button></td> 
                <td style="padding-left: 5px;padding-right: 5px;">{{i.filename}}</td>
              </tr>
          </tbody>
</table>
</div>
</div>
<div class="offcanvas offcanvas-start" id="demo" style="width: 750px; margin-top: 100px; margin-bottom: 60px;">
  <div class="offcanvas-header">
    <h1 class="offcanvas-title">Description of Errors</h1>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
  </div>
  <div style="width:700px; height:calc(80vh - 100px);" class="table-container-new">
    <h5> Client name : {{this.username}} </h5>
    <h5> File processed : {{this.errorFile}} </h5>
      <div style="height:calc(70vh - 200px);" class="tbl">
          <table id="customers" class="table table-hover">
          <thead>
                <tr style="width: 50px;">
                  <th style="width: 50px;">Line no.</th>
                  <th>Error Description</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of this.errorToshow">
                  <td>{{item.lineNumber}}</td>
                  <td>{{item.errorMessage}}</td>
                </tr>
            </tbody>
  </table>
  </div>
  </div>
</div>